<div class="product-container">
  <form #productDataForm="ngForm" (ngSubmit)="addProductData()" class="form-create-user">
    <div class="text-center mb-4">
      <i class="fa fa-truck fa-fw product-icon"></i>
    </div>
    <div class="row">
	    <div class="col-xs-6 col-md-3 form-group">
	        <label for="product">Product</label>
	      	<select class="custom-select" id="product" name="product" [(ngModel)]="newProductData.product">
			    <option *ngFor="let product of products" value="{{product}}">{{product}}</option>
			</select>
		</div>
	    <div class="col-xs-6 col-md-3 form-group" *ngIf="newProductData.product === 'Milk'">
	        <label for="type">Entry Type</label>
	      	<select class="custom-select" id="type" name="type" [(ngModel)]="newProductData.entryType">
			    <option *ngFor="let type of types" value="{{type}}">{{type}}</option>
			</select>
	    </div>
	    <div class="col-xs-6 col-md-3 form-group" *ngIf="newProductData.product === 'Tractor'">
	        <label for="jobType">Job Type</label>
	      	<select class="custom-select" id="jobType" name="type" [(ngModel)]="newProductData.jobType">
			    <option *ngFor="let type of jobTypes" value="{{type}}">{{type}}</option>
			</select>
	    </div>
	    <div class="col-xs-6 col-md-3 form-group">
	        <label for="name">Name</label>
	      	<input type="text" name="name" id="name" class="form-control" #name="ngModel" [(ngModel)]="newProductData.name" placeholder="Name" ngModel required minlength="4" maxlength="30" pattern="[a-zA-Z \-]*">
	      	<field-error [control]="name" customerror="Only characters, space and - allowed"></field-error>
	    </div>
	    <div class="col-xs-6 col-md-3 form-group" *ngIf="newProductData.product === 'Milk'">
	        <label for="time">Time</label>
	      	<select class="custom-select" id="time" name="time" [(ngModel)]="newProductData.time">
			    <option *ngFor="let session of sessions" value="{{session}}">{{session}}</option>
			</select>
		</div>
		<div class="col-xs-6 col-md-3 form-group" *ngIf="newProductData.product === 'Tractor'">
	        <label for="phone">Phone</label>
	      	<input type="text" name="phone" id="phone" class="form-control" #phone="ngModel" [(ngModel)]="newProductData.name" placeholder="Phone #" ngModel required pattern="[0-9]{10,10}">
	      	<field-error [control]="phone" customerror="Only Numbers!!!"></field-error>
	    </div>
	</div>
	<div class="row" *ngIf="newProductData.product === 'Milk'">
		<div class="col-xs-4 col-md-2 form-group">
	        <label for="litres">No Of Litres</label>
	      	<input type="text" name="litres" id="litres" class="form-control" #litres="ngModel" [(ngModel)]="newProductData.litres" (ngModelChange)="calculateAmount()" placeholder="litres" ngModel required pattern="[0-9.]*">
	      	<field-error [control]="litres" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	    <div class="col-xs-4 col-md-2 form-group">
	        <label for="pricePerLitre">Price/Litre</label>
	      	<input type="text" name="pricePerLitre" id="pricePerLitre" class="form-control" #pricePerLitre="ngModel" [(ngModel)]="newProductData.pricePerLitre" (ngModelChange)="calculateAmount()" placeholder="Name" ngModel required pattern="[0-9.]*">
	      	<field-error [control]="pricePerLitre" customerror="Numbers with decimal point!!"></field-error>
	    </div>
		<div class="col-xs-4 col-md-2 form-group">
			<label for="inputAmount">Amount</label>
			<input type="text" name="amount" id="inputAmount" class="form-control" #amount="ngModel" [(ngModel)]="newProductData.amount" placeholder="Transaction Amount" ngModel required pattern="[0-9.]*$">
			<field-error [control]="amount" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	    <div class="col-xs-12 col-md-6 form-group">
	        <label>Date</label>
	      	<div class="input-group">
	      		<input type="text" name="date" class="form-control col-4" [(ngModel)]="newProductData.eventOn.date" pattern="[0-9]{2,2}$" ngModel #date="ngModel"  placeholder="Date" required>
			  	<div class="input-group-prepend">
			    	<span class="input-group-text">/</span>
			  	</div>
			  	<input type="text" name="month" class="form-control col-4" [(ngModel)]="newProductData.eventOn.month" pattern="[0-9]{2,2}$" ngModel #month="ngModel" placeholder="Month" required>
			  	<div class="input-group-prepend">
			    	<span class="input-group-text">/</span>
			  	</div>
			  	<input type="text" name="year" class="form-control col-4" [(ngModel)]="newProductData.eventOn.year" pattern="[0-9]{4,4}$" ngModel #year="ngModel" placeholder="Year" required>
			</div>
			<field-error [control]="date" customerror="Invalid Date - Numbers only!!! (00-31)"></field-error>
			<field-error [control]="month" customerror="Invalid Month - Numbers Only!!!(00-12)"></field-error>
			<field-error [control]="year" customerror="Invalid Year - Numbers only"></field-error>
		</div>
	</div>

	<div class="row" *ngIf="newProductData.product === 'Tractor'">
		<div class="col-xs-4 col-md-2 form-group">
	        <label for="units">Units</label>
	      	<input type="text" name="units" id="units" class="form-control" #units="ngModel" [(ngModel)]="newProductData.units" (ngModelChange)="calculateAmount()" placeholder="Units" ngModel required pattern="[0-9.]*">
	      	<field-error [control]="units" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	    <div class="col-xs-4 col-md-2 form-group">
	        <label for="costPerUnit">Cost/Unit</label>
	      	<input type="text" name="costPerUnit" id="costPerUnit" class="form-control" #costPerUnit="ngModel" [(ngModel)]="newProductData.costPerUnit" (ngModelChange)="calculateAmount()" placeholder="cost per unit" ngModel required pattern="[0-9]*">
	      	<field-error [control]="costPerUnit" customerror="Numbers with decimal point!!!!"></field-error>
	    </div>
	    <div class="col-xs-4 col-md-2 form-group" *ngIf="newProductData.jobType === 'Grass Baler'">
	        <label for="noOfRolls">No of Rolls</label>
	      	<input type="text" name="noOfRolls" id="noOfRolls" class="form-control" #noOfRolls="ngModel" [(ngModel)]="newProductData.noOfRolls" (ngModelChange)="calculateAmount()" placeholder="No of Rolls" ngModel required pattern="[0-9.]*">
	      	<field-error [control]="noOfRolls" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	    <div class="col-xs-4 col-md-4 form-group" *ngIf="newProductData.jobType === 'Grass Baler'">
	        <label for="costPerRoll">Cost/Roll</label>
	      	<input type="text" name="costPerRoll" id="costPerRoll" class="form-control" #costPerRoll="ngModel" [(ngModel)]="newProductData.costPerRoll" (ngModelChange)="calculateAmount()" placeholder="cost per roll" ngModel required pattern="[0-9]*">
	      	<field-error [control]="costPerRoll" customerror="Numbers only!!"></field-error>
	    </div>
		<div class="col-xs-4 col-md-2 form-group">
			<label for="inputAmount">Total Cost</label>
			<input type="text" name="amount" id="inputAmount" class="form-control" #amount="ngModel" [(ngModel)]="newProductData.amount" placeholder="Transaction Amount" ngModel required pattern="[0-9.]*$">
			<field-error [control]="amount" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	    <div class="col-xs-12 col-md-6 form-group">
	        <label>Date</label>
	      	<div class="input-group">
	      		<input type="text" name="date" class="form-control col-4" [(ngModel)]="newProductData.eventOn.date" pattern="[0-9]{2,2}$" ngModel #date="ngModel"  placeholder="Date" required>
			  	<div class="input-group-prepend">
			    	<span class="input-group-text">/</span>
			  	</div>
			  	<input type="text" name="month" class="form-control col-4" [(ngModel)]="newProductData.eventOn.month" pattern="[0-9]{2,2}$" ngModel #month="ngModel" placeholder="Month" required>
			  	<div class="input-group-prepend">
			    	<span class="input-group-text">/</span>
			  	</div>
			  	<input type="text" name="year" class="form-control col-4" [(ngModel)]="newProductData.eventOn.year" pattern="[0-9]{4,4}$" ngModel #year="ngModel" placeholder="Year" required>
			</div>
			<field-error [control]="date" customerror="Invalid Date - Numbers only!!! (00-31)"></field-error>
			<field-error [control]="month" customerror="Invalid Month - Numbers Only!!!(00-12)"></field-error>
			<field-error [control]="year" customerror="Invalid Year - Numbers only"></field-error>
		</div>
		<div class="col-xs-6 col-md-3 form-group">
			<label for="driverExpense">Drivers Expense</label>
			<input type="text" name="driverExpense" id="driverExpense" class="form-control" #driverExpense="ngModel" [(ngModel)]="newProductData.driverExpense" placeholder="Driver Expense" ngModel required pattern="[0-9.]*$">
			<field-error [control]="driverExpense" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	</div>

	<div class="row" *ngIf="newProductData.product === 'Milk'">
		<div class="col-xs-12 col-md-6 form-group">
	        <label for="fatContent">Fat Content</label>
	      	<input type="text" name="fatContent" id="fatContent" class="form-control" #fatContent="ngModel" [(ngModel)]="newProductData.fatContent" placeholder="Fat Content" ngModel required pattern="[0-9.]*">
	      	<field-error [control]="fatContent" customerror="Numbers with decimal point!!"></field-error>
	    </div>
	</div>

	<div class="row" *ngIf="newProductData.product === 'Tractor'">
		<div class="col-xs-12 col-md-12 form-group">
			<label for="address">Address</label>
			<input type="text" name="address" id="address" class="form-control" #name="ngModel" [(ngModel)]="newProductData.address" placeholder="Address" ngModel required minlength="4" maxlength="30" pattern="[a-zA-Z0-9 \-,]*">
	      	<field-error [control]="name" customerror="Only characters, space and - allowed"></field-error>
	    </div>
	</div>

	<div class="row">
		<div class="col-xs-12 col-md-12 form-group">
			<label for="inputRemarks">Remarks(Optional)</label>
			<input type="text" name="remarks" id="inputRemarks" class="form-control" [(ngModel)]="newProductData.remarks">
	    </div>
	</div>

    <button class="btn btn-lg btn-success btn-block product-btn" [disabled]="productDataForm.invalid || callInProgress" type="submit"><i class='fa fa-spinner fa-spin' *ngIf="callInProgress"></i>{{callInProgress ? ' Saving' : 'Save'}}</button>
  </form>
</div>
