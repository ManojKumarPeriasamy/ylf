<div class="transaction-container">
  <form #transactionForm="ngForm" (ngSubmit)="addTransaction()" class="form-create-user">
    <div class="text-center mb-4">
      <i class="fa fa-arrow-right fa-fw transaction-icon"></i>
      <i class="fa fa-rupee fa-fw transaction-icon"></i>
      <i class="fa fa-arrow-right fa-fw transaction-icon"></i>
    </div>
    <div class="row">
	    <div class="col-xs-12 col-md-6 form-group">
	        <label for="inputType">Transaction Type</label>
	      	<select class="custom-select" id="inputType" name="type" [(ngModel)]="newTransactionData.transactionType" (ngModelChange)="typeChanged()">
			    <option *ngFor="let type of transactionTypes" value="{{type}}">{{type}}</option>
			</select>
	    </div>
	    <div class="col-xs-12 col-md-6 form-group" *ngIf="newTransactionData.transactionType === 'Income'">
	        <label for="inputIncomeType">Income Type</label>
	      	<select class="custom-select" id="inputIncomeType" name="incometype" [(ngModel)]="newTransactionData.incomeType">
			    <option *ngFor="let type of incomeTypes" value="{{type}}">{{type}}</option>
			</select>
	    </div>
	    <div class="col-xs-12 col-md-6 form-group" *ngIf="newTransactionData.transactionType !== 'Income'">
	        <label for="inputExpenseType">Expense Type</label>
	      	<select class="custom-select" id="inputExpenseType" name="expensetype" [(ngModel)]="newTransactionData.expenseType">
			    <option *ngFor="let type of expenseTypes" value="{{type}}">{{type}}</option>
			</select>
	    </div>
	</div>
	<div class="row">
		<div class="col-xs-12 col-md-6 form-group">
	        <label for="inputSource">{{newTransactionData.transactionType === 'Income' ? 'Income From' : 'Paid To'}}</label>
	      	<input type="text" name="sourceName" id="inputSource" class="form-control" #name="ngModel" [(ngModel)]="newTransactionData.name" placeholder="Transaction Name" ngModel required minlength="4" maxlength="30" pattern="[a-zA-Z -]*">
	      	<field-error [control]="name" customerror="Only characters, space and - allowed"></field-error>
	    </div>
		<div class="col-xs-12 col-md-6 form-group">
			<label for="inputAmount">Transaction Amount</label>
			<input type="text" name="amount" id="inputAmount" class="form-control" #amount="ngModel" [(ngModel)]="newTransactionData.amount" placeholder="Transaction Amount" ngModel required pattern="[0-9]*$">
			<field-error [control]="amount" customerror="Numbers Only !! Please check"></field-error>
	    </div>
	</div>

	<div class="row">
		<div class="col-xs-12 col-md-6 form-group">
	        <label>Transaction On</label>
	      	<div class="input-group">
	      		<input type="text" name="date" class="form-control col-4" [(ngModel)]="newTransactionData.eventOn.date" pattern="[0-9]{2,2}$" ngModel #date="ngModel"  placeholder="Date" required>
			  	<div class="input-group-prepend">
			    	<span class="input-group-text">/</span>
			  	</div>
			  	<input type="text" name="month" class="form-control col-4" [(ngModel)]="newTransactionData.eventOn.month" pattern="[0-9]{2,2}$" ngModel #month="ngModel" placeholder="Month" required>
			  	<div class="input-group-prepend">
			    	<span class="input-group-text">/</span>
			  	</div>
			  	<input type="text" name="year" class="form-control col-4" [(ngModel)]="newTransactionData.eventOn.year" pattern="[0-9]{4,4}$" ngModel #year="ngModel" placeholder="Year" required>
			</div>
			<field-error [control]="date" customerror="Invalid Date - Numbers only!!! (00-31)"></field-error>
			<field-error [control]="month" customerror="Invalid Month - Numbers Only!!!(00-12)"></field-error>
			<field-error [control]="year" customerror="Invalid Year - Numbers only"></field-error>
		</div>
	</div>

	<div class="row">
		<div class="col-xs-12 col-md-12">
			<label for="inputRemarks">Remarks(Optional)</label>
			<input type="text" name="remarks" id="inputRemarks" class="form-control" [(ngModel)]="newTransactionData.remarks">
	    </div>
	</div>

    <button class="btn btn-lg btn-success btn-block transaction-btn" [disabled]="transactionForm.invalid || callInProgress" type="submit"><i class='fa fa-spinner fa-spin' *ngIf="callInProgress"></i>{{callInProgress ? ' Adding Transaction' : 'Add Transaction'}}</button>
  </form>
</div>
